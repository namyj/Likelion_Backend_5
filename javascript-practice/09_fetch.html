<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="beer-container">
        <p>Brand: <span id="beer-brand"></span></p>
        <p>Name: <span id="beer-name"></span></p>
        <p>Style: <span id="beer-style"></span></p>
        <p>Alcohol: <span id="beer-alcohol"></span></p>
    </div>
    <button id="beer-button">Set Beer</button>
    <script>

        // 1. 정보를 입력할 요소들을 다 가져오기
        const beerBrand = document.getElementById("beer-brand")
        const beerName = document.getElementById("beer-name")
        const beerStyle = document.getElementById("beer-style")
        const beerAlcohol = document.getElementById("beer-alcohol")

        // 2. 버튼을 가져와 click Event에 EventListener 붙이기
        document.getElementById("beer-button").addEventListener('click', function () {
            console.log("clicked")
            // 3. 클릭이 발생하면 요청 보내기
            fetch("https://random-data-api.com/api/v2/beers")
                .then(function (response) {
                    console.log(response.status)
                    console.log(response.statusText)
                    return response.json()
                })
                .then(function (body) {
                    console.log(body)
                    // 4. 가져온 정보를 바탕으로 갱신
                    beerBrand.innerText = body.brand
                    beerName.innerText = body.name
                    beerStyle.innerText = body.style
                    beerAlcohol.innerText = body.alcohol
                })
        })

        // HTTP 요청을 보내고 싶은 URL
        // 기본 Request Method는 GET
        // fetch("https://random-data-api.com/api/v2/beers")
        //     .then(function (response) {
        //         console.log(response.status)
        //         console.log(response.statusText)
        //         return response.json()
        //     })
        //     .then(function (body) {
        //         console.log(body)
        //     })

        // JS는 비동기 > 오래 걸리는 작업을 비동기로 실행
        // 얘가 제일 먼저 나온다
        console.log("script end")

        // fetch("/api/geocoding", {
        //     method: "post",
        //     headers: {
        //         "content-type": "application/json"
        //     },
        //     body: JSON.stringify({
        //         lat, lng
        //     })
        // }).then(response => {
        //     if (response.ok) response.json()
        //         .then(body => {
        //             alert(body.address)
        //         })
        // })
    </script>
</body>
</html>